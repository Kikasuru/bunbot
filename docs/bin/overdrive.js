//Thank you Ehsan!
//https://stackoverflow.com/questions/31626852/how-to-add-konami-code-in-a-website-based-on-html
let cursor = 0;
const KONAMI_CODE = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65];
document.addEventListener('keydown', (e) => {
    cursor = (e.keyCode == KONAMI_CODE[cursor]) ? cursor + 1 : 0;
    if (cursor == KONAMI_CODE.length) activateOVERDRIVE();
});

function activateOVERDRIVE(){
    var overdrive = document.getElementById("overmusic");
    overdrive.play();

    //Make a beat variable.
    var beat = 0;

    //Start an interval at BPM 200 4/4
    var overdriveinterval = setInterval(function(){
        //Check if the beat variable is over.
        if(beat === overbeat.length){
            //If so, stop the interval.
            clearInterval(overdriveinterval);
            return;
        }

        //Throw carrots at the beat.
        overbeat[beat].forEach(function(e){
            var carrot = new Carrot(e,60,2,getRandomInt(20)-10,getRandomInt(360));
            carrot.spawn();
        });
        //Advance the beat.
        beat++
    },75);
}

const overbeat = [
    //O-Overdrive
    [10,20,30,40],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [10,20,30,40],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [10,20,30,40],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [10,20,30,40],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [10,20,30,40],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [10,20,30,40],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [10,20,30,40],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [10,20,30,40],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    //lunatic time boys
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    //EUROBEAT
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    [10,20,30,40,50,60,70,80,90],
    //break time jeez
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    //Rabbits are...
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    //Red-eyed.
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    [90],
    [77.5],
    [65],
    [52.5],
    [40],
    [27.5],
    [15],
    [2.5],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [70],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    //Inaba is...
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    //Rabbit-ears.
    [10,20,30,40],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [30],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [70],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    //Udonge...
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    //Dash!
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    //Fundoshi!
    [10,20,30,40],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [30],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    [70],
    [],
    [],
    [],
    [],
    [],
    [],
    [],
    //Chaos
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [10,20,30,40],
    [],
    [],
    [],
    [10,20,30,40,50,60,70,80,90],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [2.5],
    [15],
    [27.5],
    [40],
    [10,20,30,40],
    [],
    [],
    [],
    [60,70,80,90],
    [],
    [],
    [],
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    [90],
    [77.5],
    [65],
    [52.5],
    [40],
    [27.5],
    [15],
    [2.5],
    [2.5],
    [15],
    [27.5],
    [40],
    [52.5],
    [65],
    [77.5],
    [90],
    [90],
    [77.5],
    [65],
    [52.5],
    [40],
    [27.5],
    [15],
    [2.5],
]
